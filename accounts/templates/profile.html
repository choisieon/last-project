{% load static %}
<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>ë§ˆì´í˜ì´ì§€ - ì¸ìƒ ë³´ë“œê²Œì„</title>
  <style>
    @font-face {
      font-family: 'MyCustomFont';
      src: url("{% static 'fonts/í”½ì…€.woff2' %}") format('woff2');
      font-weight: 400;
      font-style: normal;
    }

    body {
      margin: 0;
      padding: 20px;
      font-family: 'MyCustomFont', sans-serif;
      background: url("{% static 'images/Frame 13.png' %}") no-repeat center center fixed;
      background-size: cover;
    }

    h1 {
      text-align: center;
      color: #4e3b2b;
    }

    .top-container {
      display: flex;
      justify-content: space-between;
      max-width: 1200px;
      margin: 20px auto;
    }

    .profile-box {
      display: flex;
      flex-direction: column;
      justify-content: space-between;
      background-color: #f3f3f3;
      border: 4px solid #444;
      border-radius: 8px;
      padding: 16px;
      box-shadow: inset 0 0 0 4px #c2a178;
      width: 420px;
      position: relative;
    }

    .profile-upper {
      display: flex;
    }

    .left-profile {
      display: flex;
      flex-direction: column;
      align-items: center;
      width: 160px;
    }

    .avatar-wrapper {
      border: 4px solid #444;
      background: white;
      padding: 4px;
      border-radius: 8px;
      margin-bottom: 6px;
      width: 140px;
      height: 140px;
      display: flex;
      justify-content: center;
      align-items: center;
    }

    .avatar-wrapper img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    .nickname-box {
      margin-top: 4px;
      font-size: 16px;
      font-weight: bold;
      text-align: center;
      width: 140px;
      background: #bde0fe;
      border: 2px solid #444;
      border-radius: 4px;
      padding: 6px 0;
    }

    .right-profile {
      flex: 1;
      display: flex;
      flex-direction: column;
      justify-content: flex-start;
      padding-left: 10px;
    }

    .action-buttons {
      display: flex;
      justify-content: space-between;
      margin-bottom: 12px;
    }

    .action-buttons button {
      background-color: #ffc107;
      border: 3px solid #444;
      border-radius: 6px;
      font-family: 'MyCustomFont';
      padding: 6px 10px;
      font-weight: bold;
      font-size: 13px;
      cursor: pointer;
    }

    .info-group {
      display: flex;
      flex-direction: column;
      gap: 6px;
    }

    .info-row {
      display: flex;
    }

    .info-label {
      width: 70px;
      background-color: #444;
      color: white;
      padding: 6px;
      font-size: 13px;
      font-weight: bold;
      border-radius: 4px 0 0 4px;
    }

.info-value {
  flex: 1;
  background: white;
  padding: 6px;
  font-size: 13px;
  border: 2px solid #444;
  border-left: none;
  border-radius: 0 4px 4px 0;

  /* ğŸ‘‡ ì•„ë˜ ë‘ ì¤„ë§Œ ì¶”ê°€í•˜ë©´ ê°€ìš´ë° ë”± ë§ìŒ */
  display: flex;
  align-items: center;
}


    

    .edit-button-container {
      position: absolute;
      bottom: 10px;
      right: 10px;
    }

    .edit-button-container a button {
      background-color: #8ecae6;
      border: 2px solid #444;
      border-radius: 6px;
      padding: 5px 12px;
      font-size: 12px;
      font-weight: bold;
      cursor: pointer;
      font-family: 'MyCustomFont';
    }


    .middle-section {
      max-width: 1200px;
      margin: 40px auto;
    }

    .board-map {
      display: grid;
      grid-template-columns: repeat(6, 1fr);
      gap: 10px;
      background: #fffef9;
      border: 4px dashed #c2a178;
      border-radius: 32px;
      padding: 2rem;
    }

    .tile {
      width: 100px;
      height: 100px;
      background: #fff;
      border-radius: 16px;
      padding: 0.5rem;
      box-shadow: 0 2px 6px rgba(0,0,0,0.1);
      display: flex;
      flex-direction: column;
      justify-content: space-between;
      transition: transform 0.2s ease;
      position: relative;
      font-family: 'MyCustomFont';
    }

    .tile:hover {
      transform: scale(1.05);
    }

    .tile .year { font-weight: bold; font-size: 0.9rem; }
    .tile .event { font-size: 0.85rem; }
    .tile .note { font-size: 0.75rem; color: #555; }
    .tile .metrics {
      font-size: 0.7rem;
      display: flex;
      justify-content: space-between;
    }
  .policy-box {
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  background-color: #f3f3f3;
  border: 4px solid #444;
  border-radius: 8px;
  padding: 16px;
  box-shadow: inset 0 0 0 4px #c2a178;
  width: 420px;
  height: 100%;
  font-family: 'MyCustomFont';
  font-size: 13px;
  box-sizing: border-box;
}

.policy-box h3 {
  font-size: 16px;
  margin-bottom: 10px;
  color: #4e3b2b;
}

.policy-box ul {
  margin-bottom: 12px;
  padding-left: 20px;
}

.policy-box select,
.policy-box button {
  background-color: #8ecae6;
  border: 2px solid #444;
  border-radius: 6px;
  padding: 5px 12px;
  font-size: 12px;
  font-weight: bold;
  cursor: pointer;
  font-family: 'MyCustomFont';
  margin-top: 10px;
}
.top-container {
  display: flex;
  justify-content: flex-start;  /* ì™¼ìª½ ì •ë ¬ */
  align-items: flex-start;      /* ìœ„ìª½ ì •ë ¬ë¡œ ë§ì¶”ê¸° */
  gap: 24px;                    /* ë°•ìŠ¤ ê°„ ì—¬ë°± */
  max-width: 1200px;
  margin: 20px auto;
}

.policy-box button {
  background-color: #ccc;
  border: 2px solid #444;
  border-radius: 6px;
  cursor: not-allowed;
}

    .detail {
      display: none;
      position: absolute;
      bottom: -80px;
      left: 0;
      width: 100%;
      background: #fff8e1;
      padding: 0.5rem;
      font-size: 0.75rem;
      color: #444;
      border-radius: 0 0 16px 16px;
      box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
      z-index: 10;
    }

    .tile:hover .detail {
      display: block;
    }

    .form-section {
      background-color: #fffef9;
      border: 4px dotted #c2a178;
      border-radius: 16px;
      padding: 20px;
      max-width: 800px;
      margin: 20px auto;
    }

    .form-section input,
    .form-section textarea {
      margin-bottom: 8px;
      padding: 6px;
      width: calc(50% - 10px);
    }

    .form-section textarea {
      width: 100%;
    }

    .form-section button {
      margin-top: 10px;
      padding: 6px 12px;
      background-color: #c2a178;
      border: none;
      border-radius: 8px;
      color: white;
      font-weight: bold;
    }
  </style>
</head>
<body>
  <h1>ë‚˜ì˜ ì¸ìƒ ë§ˆì´í˜ì´ì§€</h1>

  <div class="top-container" style="position: relative;">
    <div class="profile-box">
      <div class="profile-upper">
        <div class="left-profile">
          <div class="avatar-wrapper">
            {% if profile.avatar_image %}
            <img src="{{ profile.avatar_image.url }}" alt="ì•„ë°”íƒ€">
            {% elif profile.avatar_url %}
            <img src="{{ profile.avatar_url }}" alt="ì•„ë°”íƒ€">
            {% else %}
            <span>ì•„ë°”íƒ€ ì—†ìŒ</span>
            {% endif %}
          </div>
          <div class="nickname-box">{{ profile.nickname|default:"ë‹‰ë„¤ì„ ì—†ìŒ" }}</div>
        </div>

        <div class="right-profile">
          <div class="action-buttons">
            <button class="mentor-button">ë©˜í†  ì‹ ì²­</button>
            <button class="review-button">í›„ê¸°</button>
            <button class="recommend-button">ì¶”ì²œ</button>
          </div>
          <div class="info-group">
<div class="info-row">
  <div class="info-label">ë‚˜ì´</div>
  <div class="info-value">{{ profile.age }}</div>
</div>
<div class="info-row">
  <div class="info-label">ì§ì—…</div>
  <div class="info-value">{{ profile.job }}</div>
</div>
<div class="info-row">
  <div class="info-label">ë‚´ê³µ</div>
  <div class="info-value">{{ profile.points|default:"00ì " }}</div>
</div>
<div class="info-row">
  <div class="info-label">ê´€ì‹¬</div>
  <div class="info-value">{{ profile.interests }}</div>
</div>
<div class="info-row">
  <div class="info-label">í•œì¤„ ì†Œê°œ</div>
  <div class="info-value">{{ profile.tagline }}</div>
</div>
        </div>
      </div>
        <div style="position: absolute; right: 0; top: calc(100% + 8px);">
    <a href="{% url 'accounts:profile_edit' %}">
      <button style="background-color: #8ecae6; border: 2px solid #444; border-radius: 6px; padding: 5px 12px; font-size: 12px; font-weight: bold; cursor: pointer; font-family: 'MyCustomFont';">ìˆ˜ì •í•˜ê¸°</button>
    </a>
  </div>
</div>
        </a>
      </div>
    </div>
<!-- ê¸°ì¡´: .policy-banner ëŒ€ì‹  ì´ ì½”ë“œë¡œ êµì²´ -->
<div class="policy-banner policy-box">
  <h3>ğŸ“Œ ì²­ë…„ ì •ì±… ì¶”ì²œ</h3>

  <!-- ì˜ˆë¹„ ì¶”ì²œ ë¦¬ìŠ¤íŠ¸ -->
  <ul id="policy-list">
    <li>ğŸ” ì§€ì—­ê³¼ ê´€ì‹¬ì‚¬ë¥¼ ì„ íƒí•˜ë©´ ë§ì¶¤ ì •ì±…ì„ ë³´ì—¬ë“œë ¤ìš”</li>
    <li>ì˜ˆ: <strong>ì„œìš¸ ì²­ë…„ ì›”ì„¸ ì§€ì›</strong> - ìµœëŒ€ 20ë§Œì›</li>
    <li>ì˜ˆ: <strong>ì·¨ì—…ì„±ê³µ íŒ¨í‚¤ì§€</strong> - ë§ì¶¤í˜• ì·¨ì—… ì§€ì›</li>
  </ul>

  <!-- ì •ì±… ì„ íƒ í¼ì€ ë‚˜ì¤‘ì— ì—°ë™í•  ìˆ˜ ìˆê²Œ ê¸°ë³¸ êµ¬ì¡°ë§Œ ë‘  -->
  <form method="GET" action="#">
    <label for="region">ì§€ì—­ ì„ íƒ</label><br>
    <select name="region" id="region">
      <option value="">-- ì„ íƒ --</option>
      <option value="seoul">ì„œìš¸</option>
      <option value="busan">ë¶€ì‚°</option>
      <option value="etc">ê·¸ ì™¸ ì§€ì—­</option>
    </select><br><br>

    <label for="interest">ê´€ì‹¬ì‚¬ ì„ íƒ</label><br>
    <select name="interest" id="interest">
      <option value="">-- ì„ íƒ --</option>
      <option value="job">ì·¨ì—…</option>
      <option value="housing">ì£¼ê±°</option>
      <option value="finance">ê¸ˆìœµì§€ì›</option>
    </select><br><br>

    <button type="button" disabled>ë§ì¶¤ ì •ì±… ë³´ê¸° (ì¤€ë¹„ì¤‘)</button>
  </form>
</div>

  <!-- ì œì¶œ ë²„íŠ¼ -->
  <div class="edit-button-container" style="position: static; text-align: right; margin-top: 12px;">
    <button type="submit">ì¶”ì²œë°›ê¸°</button>
  </div>
  </form>

  <!-- ì¶”ì²œëœ ì •ì±… ì˜ˆì‹œ -->
  <ul style="margin-top: 12px; font-size: 13px;">
    <li><strong>ì²­ë…„ë‚´ì¼ì±„ì›€ê³µì œ:</strong> ì¤‘ì†Œê¸°ì—… ì¬ì§ ì²­ë…„ì—ê²Œ ëª©ëˆ ë§ˆë ¨ ì§€ì›</li>
    <li><strong>ì²­ë…„ ì›”ì„¸ ì§€ì›:</strong> ë§Œ 19~34ì„¸, ìµœëŒ€ ì›” 20ë§Œì›</li>
  </ul>
</div>

  <div class="middle-section">
    <h2>ğŸ² ë‚˜ì˜ ì¸ìƒ ì—¬ì •</h2>
    <div class="board-map">
      {% for event in life_events %}
      <div class="tile">
        <div class="year">{{ event.date }}</div>
        <div class="event">{{ event.title }}</div>
        <div class="note">{{ event.note }}</div>
        <div class="metrics"><span>{{ event.feeling }}</span><span>{{ event.score }}</span></div>
        <div class="detail">{{ event.detail }}</div>
      </div>
      {% endfor %}
    </div>
  </div>

  <div class="form-section">
    <h3>â• ìƒˆë¡œìš´ ì¸ìƒ ì´ë²¤íŠ¸ ì¶”ê°€í•˜ê¸°</h3>
    <form action="{% url 'accounts:add_life_event' %}" method="post">
      {% csrf_token %}
      <input type="text" name="date" placeholder="ì˜ˆ: 2025ë…„ 4ì›”" required />
      <input type="text" name="title" placeholder="ì´ë²¤íŠ¸ ì œëª©" required />
      <input type="text" name="note" placeholder="ê°„ë‹¨ ë©”ëª¨" />
      <input type="text" name="feeling" placeholder="ê¸°ë¶„ì ìˆ˜" />
      <input type="text" name="score" placeholder="ì„±ê³¼ì ìˆ˜" />
      <textarea name="detail" placeholder="ìƒì„¸ ë‚´ìš©" rows="2"></textarea>
      <button type="submit">ì´ë²¤íŠ¸ ì¶”ê°€í•˜ê¸°</button>
    </form>
  </div>
</body>
</html>
