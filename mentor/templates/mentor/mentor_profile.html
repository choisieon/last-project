{% extends 'base.html' %}
{% load static %}
{% block content %}
<head><link rel="stylesheet" href="{% static 'css/style.css' %}"></head>

<div class="mentor-profile" style="padding: 20px; max-width: 700px; margin: 40px auto;
     border: 2px solid #5a4a2f; background: #fffce8; font-family: 'MyCustomFont'; box-shadow: 4px 4px 0 #ccc;">

  <!-- í”„ë¡œí•„ ì´ë¯¸ì§€ -->
  {% if mentor.profile_picture %}
    <img src="{{ mentor.profile_picture.url }}" alt="{{ mentor.nickname }}" class="mentor-image-large"
         style="width: 140px; height: 140px; object-fit: cover; border-radius: 50%; border: 2px solid #333;">
  {% else %}
    <img src="{% static 'images/default-profile.png' %}" alt="ê¸°ë³¸ ì´ë¯¸ì§€" class="mentor-image-large"
         style="width: 140px; height: 140px; object-fit: cover; border-radius: 50%; border: 2px solid #333;">
  {% endif %}

  <h2 style="margin-top: 16px;">ğŸ‘¤ {{ mentor.nickname }}ë‹˜ì˜ í”„ë¡œí•„</h2>
  <p><strong>ë‚˜ì´ëŒ€:</strong> {{ mentor.get_age_range_display }}</p>
  <p><strong>í•œì¤„ì†Œê°œ:</strong> {{ mentor.bio }}</p>
  <p><strong>í‚¤ì›Œë“œ:</strong> {{ mentor.keywords }}</p>
  <p><strong>ê³ ë¯¼ ë¶„ì•¼:</strong> 
    {% for c in mentor.concerns.all %}
      <span style="background: #007aff; color: white; padding: 2px 6px; margin: 2px; display: inline-block; border-radius: 4px;">
        #{{ c.name }}
      </span>
    {% endfor %}
  </p>
  <p><strong>ë©˜í† ë§ ê°€ëŠ¥ ì—¬ë¶€:</strong> {% if mentor.is_mentor %}âœ… ê°€ëŠ¥{% else %}âŒ ë¶ˆê°€ëŠ¥{% endif %}</p>

  <!-- ë©˜í† ë§ ì‹ ì²­ ë²„íŠ¼ -->
  <a href="{% url 'mentor:mentor_request_direct' mentor.id %}" class="btn"
     style="display:inline-block; margin-top:20px; padding: 10px 14px; background-color: #007aff;
     color: white; font-weight: bold; border: 2px solid #333;">
    ğŸ¤ ì´ ë©˜í† ì—ê²Œ ì§ì ‘ ì‹ ì²­
  </a>

  <!-- í‰ì  (ì˜ˆì‹œ: mentor.rating) -->
  {% if mentor.rating %}
    <p style="margin-top: 20px;"><strong>â­ í‰ê·  í‰ì :</strong> {{ mentor.rating }} / 5.0</p>
  {% else %}
    <p style="margin-top: 20px;"><strong>â­ í‰ê·  í‰ì :</strong> ì•„ì§ í‰ê°€ ì—†ìŒ</p>
  {% endif %}

  <!-- í›„ê¸° ë¦¬ìŠ¤íŠ¸ -->
  <div style="margin-top: 30px;">
    <h3>ğŸ’¬ í›„ê¸°</h3>
    {% if mentor.reviews.all %}
      {% for review in mentor.reviews.all %}
        <div style="border: 1px dashed #aaa; background: #f9f9f9; padding: 10px; margin-bottom: 10px;">
          <p>"{{ review.content }}"</p>
          <small>ì‘ì„±ì: {{ review.author.nickname }} | í‰ì : {{ review.rating }} / 5</small>
        </div>
      {% endfor %}
    {% else %}
      <p>ì•„ì§ ë“±ë¡ëœ í›„ê¸°ê°€ ì—†ìŠµë‹ˆë‹¤.</p>
    {% endif %}
  </div>
</div>
{% endblock %}
